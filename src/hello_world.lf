target C {
    threading: false,
    build: "../scripts/build_nxp_unix.sh",
};

main reactor {
    preamble {=
    #include "../../SDK_2_12_0_FRDM-K22F/devices/MK22F51212/fsl_device_registers.h"
	#include "../../SDK_2_12_0_FRDM-K22F/devices/MK22F51212/utilities/debug_console_lite/fsl_debug_console.h"
    #include "../../../SDK_2_12_0_FRDM-K22F/boards/frdmk22f/project_template/board.h"
    #include "../../../SDK_2_12_0_FRDM-K22F/boards/frdmk22f/project_template/clock_config.h"
    #include "../../../SDK_2_12_0_FRDM-K22F/boards/frdmk22f/project_template/pin_mux.h"
	#include "../../SDK_2_12_0_FRDM-K22F/devices/MK22F51212/drivers/fsl_common.h"
    =}
    logical action a;
    reaction(startup) -> a {=
        PRINTF("hello world, from FreeRTOS!\r\n");
        lf_schedule(a, SEC(10));
    =}
    reaction(a) {=
        PRINTF("reaction a at logical time: %lld \r\n", lf_time_logical_elapsed());
    =}
}
